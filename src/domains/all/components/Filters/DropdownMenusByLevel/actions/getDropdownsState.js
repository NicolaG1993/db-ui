import checkLevelValuesError from "@/src/domains/all/components/Filters/DropdownMenusByLevel/actions/checkLevelValuesError";

const obj = {
    Actions: {
        Cumshots: [
            {
                id: 81,
                name: "Cum in Condom",
                type: "Cumshots",
            },
            {
                id: 54,
                name: "Cum in Mouth",
                type: "Cumshots",
            },
            {
                id: 57,
                name: "Cum on Ass",
                type: "Cumshots",
            },
            {
                id: 55,
                name: "Cum on Face / Facial",
                type: "Cumshots",
            },
            {
                id: 59,
                name: "Cum on Feet",
                type: "Cumshots",
            },
            {
                id: 77,
                name: "Cum on Pussy",
                type: "Cumshots",
            },
            {
                id: 58,
                name: "Cum on Tits",
                type: "Cumshots",
            },
        ],
        Humiliations: [
            {
                id: 56,
                name: "Creampie Eating",
                type: "Humiliations",
            },
            {
                id: 60,
                name: "Cum Eating",
                type: "Humiliations",
            },
        ],
        Positions: [
            {
                id: 39,
                name: "69",
                type: "Positions",
            },
        ],
        Roles: [
            {
                id: 24,
                name: "Cosplay",
                type: "Roles",
            },
            {
                id: 79,
                name: "Girlfriend",
                type: "Roles",
            },
            {
                id: 30,
                name: "Goddess / Mistress",
                type: "Roles",
            },
            {
                id: 76,
                name: "Hostess",
                type: "Roles",
            },
            {
                id: 44,
                name: "Housewife",
                type: "Roles",
            },
            {
                id: 47,
                name: "Maid",
                type: "Roles",
            },
            {
                id: 20,
                name: "Nurse",
                type: "Roles",
            },
            {
                id: 40,
                name: "School",
                type: "Roles",
            },
            {
                id: 38,
                name: "Secretary",
                type: "Roles",
            },
            {
                id: 63,
                name: "Stepmother",
                type: "Roles",
            },
            {
                id: 64,
                name: "Stepsister",
                type: "Roles",
            },
            {
                id: 85,
                name: "Therapist",
                type: "Roles",
            },
            {
                id: 45,
                name: "Wife",
                type: "Roles",
            },
        ],
        Theme: [
            {
                id: 90,
                name: "Christmass",
                type: "Theme",
            },
            {
                id: 91,
                name: "Halloween",
                type: "Theme",
            },
        ],
        Toys: [
            {
                id: 52,
                name: "Bad Dragon",
                type: "Toys",
            },
            {
                id: 73,
                name: "Butt Plug",
                type: "Toys",
            },
            {
                id: 72,
                name: "Condom",
                type: "Toys",
            },
            {
                id: 51,
                name: "Dildo",
                type: "Toys",
            },
            {
                id: 53,
                name: "Fleshlight",
                type: "Toys",
            },
            {
                id: 83,
                name: "Key",
                type: "Toys",
            },
            {
                id: 78,
                name: "Magic Wand",
                type: "Toys",
            },
            {
                id: 68,
                name: "Milking Machine",
                type: "Toys",
            },
            {
                id: 75,
                name: "Ohmibod",
                type: "Toys",
            },
            {
                id: 50,
                name: "Strap-on",
                type: "Toys",
            },
            {
                id: 74,
                name: "Sybian",
                type: "Toys",
            },
            {
                id: 80,
                name: "Vibrator",
                type: "Toys",
            },
        ],
    },
    Body: {
        Age: [
            {
                id: 4,
                name: "MILF",
                type: "Age",
            },
            {
                id: 5,
                name: "Young",
                type: "Age",
            },
        ],
        Ass: [
            {
                id: 65,
                name: "Big Butt",
                type: "Ass",
            },
        ],
        "Body Types": [
            {
                id: 17,
                name: "BBW",
                type: "Body Types",
            },
            {
                id: 15,
                name: "Curvy",
                type: "Body Types",
            },
            {
                id: 16,
                name: "Fit Body",
                type: "Body Types",
            },
        ],
        Ethnicity: [
            {
                id: 29,
                name: "Asian",
                type: "Ethnicity",
            },
            {
                id: 46,
                name: "Caucasian",
                type: "Ethnicity",
            },
            {
                id: 28,
                name: "Ebony",
                type: "Ethnicity",
            },
            {
                id: 67,
                name: "Latina",
                type: "Ethnicity",
            },
        ],
        Hair: [
            {
                id: 1,
                name: "Blonde",
                type: "Hair",
            },
            {
                id: 2,
                name: "Brunette",
                type: "Hair",
            },
            {
                id: 3,
                name: "Redhead",
                type: "Hair",
            },
        ],
        Height: [
            {
                id: 37,
                name: "Tall",
                type: "Height",
            },
        ],
        "Model Types": [
            {
                id: 70,
                name: "Camgirl",
                type: "Model Types",
            },
            {
                id: 89,
                name: "OnlyFans Model",
                type: "Model Types",
            },
            {
                id: 31,
                name: "Star",
                type: "Model Types",
            },
        ],
        Tits: [
            {
                id: 6,
                name: "Big Boobs",
                type: "Tits",
            },
            {
                id: 25,
                name: "Fake Tits",
                type: "Tits",
            },
            {
                id: 27,
                name: "Huge Tits",
                type: "Tits",
            },
            {
                id: 26,
                name: "Natural Tits",
                type: "Tits",
            },
        ],
    },
    Outfit: {
        Fishnets: [
            {
                id: 33,
                name: "Colored Fishnets",
                type: "Fishnets",
            },
            {
                id: 41,
                name: "Fishnet Bodystockings",
                type: "Fishnets",
            },
            {
                id: 32,
                name: "Fishnets",
                type: "Fishnets",
            },
            {
                id: 82,
                name: "White Fishnets",
                type: "Fishnets",
            },
        ],
        Pantyhose: [
            {
                id: 8,
                name: "Black Pantyhose",
                type: "Pantyhose",
            },
            {
                id: 42,
                name: "Bodystockings",
                type: "Pantyhose",
            },
            {
                id: 14,
                name: "Colored Pantyhose",
                type: "Pantyhose",
            },
            {
                id: 7,
                name: "Pantyhose",
                type: "Pantyhose",
            },
            {
                id: 34,
                name: "Skin Colour Pantyhose",
                type: "Pantyhose",
            },
            {
                id: 9,
                name: "White Pantyhose",
                type: "Pantyhose",
            },
        ],
        Shoes: [
            {
                id: 69,
                name: "Boots",
                type: "Shoes",
            },
            {
                id: 23,
                name: "Heels",
                type: "Shoes",
            },
        ],
        Stockings: [
            {
                id: 12,
                name: "Black Stockings",
                type: "Stockings",
            },
            {
                id: 48,
                name: "Colored Stockings",
                type: "Stockings",
            },
            {
                id: 49,
                name: "Layered Nylons",
                type: "Stockings",
            },
            {
                id: 36,
                name: "Red Stockings",
                type: "Stockings",
            },
            {
                id: 62,
                name: "Seamed Stockings",
                type: "Stockings",
            },
            {
                id: 35,
                name: "Skin Colour Stockings",
                type: "Stockings",
            },
            {
                id: 13,
                name: "Stockings",
                type: "Stockings",
            },
            {
                id: 11,
                name: "White Stockings",
                type: "Stockings",
            },
        ],
        Clothing: [
            {
                id: 86,
                name: "Bodysuit",
                type: "Clothing",
            },
            {
                id: 88,
                name: "Cum Panties",
                type: "Clothing",
            },
            {
                id: 43,
                name: "Garter Belt",
                type: "Clothing",
            },
            {
                id: 61,
                name: "Glasses",
                type: "Clothing",
            },
            {
                id: 84,
                name: "Gloves",
                type: "Clothing",
            },
            {
                id: 21,
                name: "Knee-High",
                type: "Clothing",
            },
            {
                id: 18,
                name: "Latex",
                type: "Clothing",
            },
            {
                id: 66,
                name: "Leather",
                type: "Clothing",
            },
            {
                id: 10,
                name: "Lingerie",
                type: "Clothing",
            },
            {
                id: 87,
                name: "Short Socks",
                type: "Clothing",
            },
            {
                id: 22,
                name: "Spandex",
                type: "Clothing",
            },
            {
                id: 19,
                name: "Uniform",
                type: "Clothing",
            },
        ],
    },
    Unknown: {
        "No Type": [
            {
                id: 71,
                name: "Tattoo",
                type: "",
            },
        ],
    },
};

// USED TO CREATE AN OBJECT WITH AN OBJECT INSIDE FOR EVERY LEVEL, EVERY OBJECT CONTAINS THE BOOLEAN VALUES FOR ALL THAT LEVEL
// SO THE LEVELS ARE STORED SEPARETELY: BY LEVEL - NOT NESTED INSIDE EACHOTHERS es. {1:{}, 2: {}}

const getDropdownsState = ({ stateObj, propsObj, dropdownsState }) => {
    // not sure if propsobj is parsedData o filteredData
    /*
    propsObj = [
        {
            id: string,
            name: string,
            type: string
        },
        ...
    ]

    objectEntries = [ ['foo', 'bar'], ['baz', 42] ]

   ðŸŸ¢ðŸŸ¢ðŸŸ¢ dropdownsState = {
        1: {
            Actions: bool,
            Body: bool,
            Outfit: bool,
            No Type: bool
        },
        2: {
            Roles: bool,
            ...,
            Hair: bool,
            ...,
            Clothing: bool,
            ...
        }
    }
    
    */

    // PARSE AND SET DROPDOWN MENUS STATE 1st
    let firstLevelObj = {};
    let objectEntries = Object.entries(propsObj);
    let error;

    const index = 1;

    console.log("ðŸ§  getDropdownsState: ", {
        stateObj,
        propsObj,
        dropdownsState,
        objectEntries: [...objectEntries],
        checkObjectEntries: Object.entries(obj),
    });

    objectEntries.map(([key, val], i) => {
        firstLevelObj[key] = false;
        stateObj = { ...stateObj, [index]: firstLevelObj }; // non serve "...stateObj" se lo uso solo per hydrate ðŸ§  // inoltre posso spostare dopo il loop l'assegnamento di stateObj ðŸ§ 

        error = checkLevelValuesError(val, key); // check for errors

        if (typeof val === "object" && !Array.isArray(val)) {
            let { res, err } = getSubMenusState({
                catValues: val,
                level: index + 1,
                stateObj,
                dropdownsState,
            });

            if (err) {
                error = err;
            }

            stateObj = { ...stateObj, ...res };
        }
    });

    return { res: stateObj, error };

    // SPIKE: This way works, but only for 2 levels ðŸ§  there must be a way to improve this
};

export default getDropdownsState;

// NOT USED OUTSIDE THIS FILE
const getSubMenusState = ({ catValues, level, stateObj, dropdownsState }) => {
    let newObj = {};
    let levelObj = {
        ...stateObj[level],
        ...dropdownsState[level],
    };
    let error;

    let objectEntries = Object.entries(catValues);
    objectEntries.map(([key, val], i) => {
        newObj[key] = false;

        levelObj = {
            ...levelObj,
            ...newObj,
        };

        stateObj = {
            ...stateObj,
            ...dropdownsState,
            [level]: levelObj,
        };

        error = checkLevelValuesError(val, key); // check for errors

        if (typeof val === "object" && !Array.isArray(val)) {
            getSubMenusState({
                catValues: val,
                level: Number(level) + 1,
                stateObj,
                dropdownsState,
            });
        }
    });
    return { res: stateObj, err: error };
};

/*
export { getDropdownsState, getSubMenusState };
*/
